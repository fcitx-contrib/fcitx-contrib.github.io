# 码表

主要用于形码（五笔、郑码等）、音形（代表为小鹤音形，需自行导入码表）、形音混输（五笔拼音），也可以用于其他语言。

## 设置
以下示例均以五笔字型为例。

### 翻页/选词按键
意义同拼音/双拼的相同选项。

### 每页候选词
普通模式下每页的候选词个数。不适用卷轴模式。

对于非中文码表，设置为 0 可以隐藏侯选窗，并在处理退格、回车等按键的同时将它们交给应用程序处理。

### 自动选择候选词之后提交

::: info
当您输入的编码完全匹配某些词（比如 `ggtt` 是 `来来往往`、`五笔` 和 `开玩笑` 的编码），且不存在以它们为前缀的其他候选词（比如 `ggtta`、`ggttb` 等都无意义），此时后续输入将自动选择首选，并展示以新输入为前缀的候选词，此行为称作“顶功”。
:::

示例：假设您已输入 `ggtt`，再输入 `a` 时，
* 开启此选项，则上屏 `来来往往`，并展示以 `a` 为前缀的候选词，比如 `工`、`戈` 等；
* 关闭此选项，则预编辑为 `来来往往a`，不上屏，并展示以 `a` 为前缀的候选词。

### 取消激活输入法时提交输入缓冲区
切换到其他输入法时是否将预编辑上屏。

示例：开启此选项，输入 `a` 后用 `Shift_L` 切换到其他输入法，则 `a` 会上屏；关闭此选项则仅清空预编辑。

### 提交无效分段
当您输入不存在于码表中的编码，后续的上屏文字是否会携带这些编码一起上屏。

示例：`asdf` 是无效码，当您输入 `asdf` `ggtt ` 时，
* 开启此选项，则上屏 `asdf来来往往`；
* 关闭此选项，则上屏 `来来往往`。

### 使用全角字符
对于非中文码表，关闭此选项可以在状态菜单禁用全角/半角开关。

### 忽略内置标点
对于非中文码表，开启此选项将禁用中文标点映射。

### 将第一个候选词作为预编辑文本
示例：输入 `a` 后，
* 关闭此选项，预编辑为 `a`；
* 开启此选项，预编辑为首选 `工`，但回车仍上屏 `a`。

### 将嵌入预编辑文本的光标固定在开头
当您在 `主题编辑器` 中启用 `跟随光标` 时，您可能需要启用此选项避免候选窗频繁移动。

### 快速输入的触发键
按下 `;` 进入快速输入模式，如果想输入 `;` 则回车，如果想输入 `；` 则再次按下 `;`。

### 触发快速输入的文本
输入这些文本将进入快速输入模式，已输入的编码一并视为快速输入的编码。

示例：输入 `ios` 首选为 `消火栓`；输入 `iOS` 候选均为英文。

### 不对短于…的词排序
示例：多次输入 `a` 并选择 `戈` 后，`戈` 在候选词中仍排在 `工` 的后面。将该选项改成 0 后，`戈` 将排在 `工` 前面。

### 按码长排序候选词
是否码长较短的优先。

示例：输入 `a` 后，`节`（`ab`）和 `工作`（`aawt`）都是非精确匹配，
* 开启此选项，则 `节` 由于码长较短排在前面；
* 关闭此选项，则 `工作` 由于词频较高排在前面。

### 排序规则
* 否：按出现在码表中的顺序排序；
* 频率：按频率排序；
* 快速：刚上屏的词排在最前。

### 使用系统语言模型
关闭此选项可以在状态菜单禁用预测开关。此选项需要重启进程生效。

### 根据当前上下文排序候选词
TBD

### 模糊键
当不知道字词中（除了首位）的某几位编码时，可以用 `z` 代替。

示例：输入 `aaaz`，候选词有 `工艺`（`aaan`）、`工`（`aaaa`）等。

### 触发拼音的前缀键
按 `z` 临时输入拼音。

示例：输入 `zwo`，首选为 `我`。

### 自动选择候选词
是否启用顶功行为。

示例：输入 `ggtta`，
* 开启此选项，则上屏 `来来往往`，预编辑为 `a`，首选为 `工`；
* 关闭此选项，则不上屏，预编辑为 `ggtta`，且无候选词。

### 选择唯一候选词的长度限制

## 码表全局选项
