# 拼音/双拼

小企鹅双拼和拼音共用设置项和词库。

## 设置

### 双拼方案
支持自然码、微软、紫光、智能ABC、中文之星、拼音加加、小鹤，以及自定义双拼。

### 显示当前双拼模式
在切换到双拼输入法时，提示 `双（自然码）` 还是 `双`。

### 每页候选词
普通模式下每页的候选词个数。不适用卷轴模式。

### 显示英文候选词
是否将模糊匹配的英文单词放入候选词列表。

示例：开启此选项，输入 `excitng` ，纠正后的 `exciting` 会作为候选词出现。

### 显示符号候选词
是否将 emoji 放入候选词列表。

示例：开启此选项，输入 `r` `i` ，`☀️` 会出现在 `日` 后面。

### 显示拆字候选词
示例：开启此选项，可以通过输入 `tu` `tu` `tu` 来输入 `垚`。

### 启用 Unicode CJK 拓展区 B 之后的更多字符
是否显示生僻字。

示例：开启此选项，则可以输入 `𰻝`（biáng）。

### 输入 h(横)，s(竖)，p(撇)，n(捺)，z(折) 时显示笔画候选词

示例：开启此选项，输入 `h` `s` `p` `n` `z` 时，`札` 会作为候选词出现。

### 启用云拼音
首次使用拼音时，会有通知询问您是否启用云拼音。可在此处更改最初选择。

### 配置云拼音
见[云拼音](../advanced/cloudpinyin.md)。

### 云拼音候选词顺序
云拼音的查询结果默认为第 2 个候选词。

### 加载云拼音的时候显示动画
在服务器返回查询结果前，是否在为云拼音候选词的预留的位置显示动画。

### 总是显示云拼音的占位符
开启此选项后，即使查询失败，云拼音候选词的预留位置也会被保留，避免后面的候选词顶上来。

### 预编辑模式
控制应用程序内的预编辑显示什么。

示例：当您输入 `y` `u` 时，
* 不显示：`yu` 位于候选窗内，占据一行；
* 拼音串：`yu` 位于应用程序中；
* 提交预览：假设首选为 `与` ，则 `与` 也出现在应用程序中。

### 将嵌入预编辑文本的光标固定在开头
当您在 `主题编辑器` 中启用 `跟随光标` 时，您可能需要启用此选项避免候选窗频繁移动。

### 在预编辑中显示完整拼音
是否将预编辑中输入的英文字母换成对应的拼音字母。

示例：
* 在拼音中，输入 `n` `v`，开启此选项时预编辑为 `nü`，关闭时为 `nv`；
* 在小鹤双拼中，输入 `n` `t`，开启此选项时预编辑为 `nüe`，关闭时为 `nt`。

### 启用预测
是否根据上屏文字提供预测词。

示例：开启此选项，上屏 `我` 后，候选词将有 `的` `们` 等。

### 预测数量
最多显示几个预测词。

### 预测时退格键的行为
示例：当显示预测词时，按下退格键
* 仅清空候选词：候选窗消失；
* 清空候选词并退格：候选窗消失，并删除最后一个上屏的字；
* 不使用屏幕键盘时进行退格：在 macOS 上同 `清空候选词并退格`。

### 切换输入法时的行为
当您通过 `Ctrl+Shift_L` 或 `Shift_L` 从拼音/双拼切换到英文键盘时，如何处理当前输入。

示例：当您在拼音中输入 `c` `d` 后按 `Shift_L`，
* `清空`：不上屏任何字符；
* `提交当前预编辑`：上屏 `cd`；
* `提交默认选择`：假设首选为 `程度`，则上屏 `程度`。

### 忘记词汇
当您输入一些拼音后，按下 `Ctrl+7` 进入忘记词汇模式，此时选择的词
* 如果是词库中的，频率会被重置；
* 如果是自学习的，则会被删除。

### 上一页/下一页
普通模式的翻页键。不适用卷轴模式。

### 上一个候选词/下一个候选词
普通模式下移动候选词高亮。不适用卷轴模式。

### 选择当前候选词
将高亮候选词上屏。不适用卷轴模式。

### 提交原始字符串
原样上屏输入的英文字母而非候选词。

### 选择第 2/3 个候选词
主键盘数字键之外的额外选词键。不适用卷轴模式。

### 使用数字键盘选词
若启用，小键盘数字键参与选词；若禁用，上屏首选以及数字。不适用卷轴模式。

### 以词定字
当您为了打难选的字而输入一个它组成的词时，按 `[` 或 `]` 将上屏该词的第 1 或第 2 个字。可以通过设置更多按键来上屏第 3、4 …… 个字。

### 使用退格键取消选词
示例：输入 `j` `i` `x`，选择 `继`，再敲 `Backspace`：
* 开启此选项，则回退到没有选择 `继` 的状态；
* 关闭此选项，则删除 `x` 并上屏 `继`。

### 按笔画过滤
示例：当您想输入 `盛` 时，输入 `cheng` 后它可能不在第一页，这时按下 `` ` `` 并输入 `盛` 的起笔 `h` （横）`p` （撇）即可过滤掉不符合条件的候选词。

### 句子数量
除首选外，尝试组句的候选词个数。其余候选词可以只包含部分拼音。

示例：输入 `ni` `shi` `zhong` `yi` `ge` `ren`，前 3 个候选词均为 6 字，其他候选词不足 6 字。

### 词组候选词数
除句子外，非单字的候选词个数。其余候选词为单字。

示例：输入 `shi` `shi`，前 18 个候选词（1 个首选加上前一选项的 2 个，再加上此选项的 15 个）为双字，其他候选词为单字。

### 输入长于…时提示长词
示例：输入 `zhong` `hua` `ren` `min`，首选为精确匹配 `中华人民`，次选为提示的长词 `中华人民共和国`。

### 快速输入的触发键
按下 `;` 进入快速输入模式，如果想输入 `;` 则回车，如果想输入 `；` 则再次按下 `;`。

### 使用 V 来触发快速输入
由于 v 在拼音中不是声母，可按 `v` 进入快速输入模式；由于 v 在双拼中可作为声母，需要按 `Shift+v`。

### 触发快速输入的正则表达式
此选项仅针对程序员。输入匹配后自动进入快速输入模式。

### 模糊拼音 常见错误
纠正双手打拼音时常见的错序。

示例：输入 `g` `a` `g` `n` 后，候选词有 `刚`。

### 模糊拼音 输入长度大于 4 时进行部分双拼匹配
对于较长的输入允许只输入声母。

示例：开启此选项，在小鹤双拼中输入 `t` `t` `x` `u`，候选词有 `天天向上`。

### 模糊拼音 纠错布局
纠正 QWERTY 键盘按错成水平相邻键。

示例：开启此选项，
* 在拼音中，输入 `juu` `cio`，候选词有 `纠错`；
* 在小鹤双拼中，输入 `jw` `cp`，候选词有 `纠错`。

## 管理词库
小企鹅的词库格式为二进制 `.dict`，但您也可以导入搜狗细胞词库 `.scel` 以及符合标准的文本格式 `.txt`，它们会被自动转换成 `.dict` 格式。

小企鹅支持的文本格式为按行存储的 `词语<空格>完整合法由'间隔的拼音<空格>对数频率`，比如
```
示例 shi'li 0.1
文本 wen'ben -0.1
```
如果您不确定频率，填 0 即可。

## 管理自定义词组
您可以设置输入特定的字母组合时置顶的词组，也可以导入系统的自定义短语。右键置顶的候选词也会被保存为自定义词组。

如果您选择手动编辑文件，请在保存文件后点击 `重新加载`。每一行的格式 `输入,顺序=词组`，比如
```
ctrl,1=唱跳rap篮球
ctrl,2=控制
```

## 标点
您可以设置按下标点键后的行为。对每个标点，
* 如果没有关于它的映射，则直接上屏该英文标点，比如 `=`；
* 如果有唯一映射，则上屏该映射，比如按 `,` 上屏 `，`；如果该映射包含替代映射，比如 `"`，则第一次上屏主映射 `“`，第二次上屏替代映射 `”`；
* 如果有多个映射，则显示候选窗供选择（可回车上屏英文标点），比如按 `[` 会出现 `【` `「` 等。

## 配置简繁转换
见[简繁转换](../advanced/chttrans.md)。

## 快速输入
类似自定义词组，但需要用触发键（`;`或`v/V`）引导，并且不会和拼音候选词混在一起。内置了英文单词、颜文字、emoji、LaTeX。
